<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>導向中...</title>
  <script>
    const adLink = "https://www.profitableratecpm.com/vawh8q59?key=9b861b04bfb49da12fcc18f5e231446f";
    const returnUrl = sessionStorage.getItem("pendingRedirect");

    if (returnUrl) {
      sessionStorage.removeItem("pendingRedirect");

      // 先開廣告頁（新分頁）
      const adWin = window.open(adLink, "_blank");

      // 3秒後再導向真正網址（原視窗）
      setTimeout(() => {
        window.location.replace(returnUrl);
      }, 3000);
    } else {
      document.body.innerHTML = "<p>錯誤：沒有原始連結。</p>";
    }
  </script>
</head>
<body>
  <p>正在導向中，請稍候…</p>
</body>
</html>